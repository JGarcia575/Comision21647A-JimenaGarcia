
  <%- include("partials/head")%>

<body>
  <%- include("partials/nav")%>
  <div class="container mt-4">
    <div class="card">
      <h5 class="card-header">Agregar publicación</h5>
      <div class="card-body">
        <form name="Fcrear"  action="/guardar" method="post" onsubmit="validarFormulario();">
          <div class="mb-3">
            <label for="titulo" class="form-label">Titulo</label>
            <input class="form-control" id="titlo" id="titulo" name="titulo" placeholder="Escribe el titlo de la publicación">
          </div>
          <div class="mb-3">
            <label for="contenido" class="form-label">Escriba aquí</label>
            <textarea class="form-control" id="contenido" name="contenido" rows="3"></textarea>
          </div>
          <div class="mb-3">
            <label for="url_imagen" class="form-label">Url de la imagen</label>
            <input type="text" class="form-control" id="url_imagen" name="url_imagen" placeholder="Opcional">
        </div>  
          <button type="submit" class="btn btn-primary buttonFont">Enviar</button>
          <a href="/posts" class="btn btn-warning buttonFont">Cancelar</a>
        </form>       
      </div>
    </div>
  </div>
  <script>
    /*
    Esta función cambia el valor del input url_imagen si el usuario introduce ninguna url de una imagen.
    En la base de datos si el usuario no introduce una url se guarda como un string vacío ' ' y no coloca la url default
    ingresada en el modelo de post.
    */
    function validarFormulario() {
      let img = document.Fcrear.url_imagen.value;
      if (img === "") {
        document.Fcrear.url_imagen.value = 'https://static.thenounproject.com/png/2616531-200.png';        
      }
    }
  </script>
</body>
  <%- include("partials/footer")%>
